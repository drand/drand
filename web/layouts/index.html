<!DOCTYPE HTML>
<html>
<head>
  <title>{{ .Site.Title }}</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="{{ .Site.BaseURL }}css/main.css" />
</head>
<body class="is-preload">
  <div id="page-wrapper">

    <!-- Main -->
    <section id="main" class="container" style="text-align: justify;">
      <header>
        <h2>drand</h2>
        <p>A Distributed Randomness Beacon</p>
      </header>
      <div class="box">
        <h3>Overview</h3>
        <p>
          The <code>drand</code> randomness beacon is composed of a world-wide network of independent partners <strong>collectively</strong> providing
          <strong>verifable</strong>, <strong>unbiasable</strong>, <strong>unpredictable</strong>,
          <strong>high-entropy randomness</strong> as a service to the public. To generate such randomness,
          <code>drand</code> relies on cutting-edge methodologies from cryptography and distributed systems research.
          For more details on the technology, please refer to the
          <a href="https://github.com/dedis/drand#documentation">documentation</a>
          and to the <a href = "https://eprint.iacr.org/2016/1067.pdf">research paper</a> that inspired <code>drand</code>.
        </p>
      </div>

      <!--Randomness box-->
      <div class="box">
        <h3>Randomness History</h3>
        The printed value is a 512-bit
        random number generated by the <code>drand</code> beacon and
        is refreshed every 60 seconds.
        A click on the randomness block shows the raw JSON fetched from one of the nodes in
        the current trustee group.
        <br>
        <br>
        <div style="text-align:center">
          <h4 style="font-size:18px"> Value </h4>
          <div id="latest">
          </div>
          <div id="myModal" class="modal" style="text-align:left">
            <div class="modal-content">
              <p id="jsonHolder">initial text</p>
            </div>
          </div>

          <ul class="actions special small">
            <li id="verify"><a class="button alt solid small" onclick="checkVerify()">Verify</a></li>
          </ul>
          <h4 style="font-size:18px">Index</h4>
          <div id="round">
          </div>
          <div id="myProgress">
            <div id="myBar"></div>
          </div>
          <br>
          <ul class="actions special small">
            <li style="padding-left: 7%;"><a class="button alt icon solid small" onclick="goToPrev()"> <i class="fas fa-chevron-left"></i> &nbsp; Prev </a></li>
            <li><a class="button alt icon solid small" onclick="refresh()"> <i class="fas fa-sync"></i> &nbsp; Latest </a></li>
            <li style="padding-right: 7%;"><a class="button alt icon solid small" onclick="goToNext()"> <i class="fas fa-chevron-right"></i> &nbsp; Next </a></li>
          </ul>
        </div>
      </div>

      <!--Network box-->
      <div class="box">
        <h3>Network</h3>
        The randomness is currently fetched from the host listed in bold.
        The node to contact can be chosen by clinking on one of the available servers (green status) from the table below.
        <br><br>
        <div>
          <div class="table-wrapper">
            <table>
              <thead>
                <tr>
                  <th>Status</th>
                  <th>Host</th>
                  <th>Port</th>
                  <th style="width:17%">Connection type</th>
                  <th style="width:10%">Location</th>
                  <th style="width:10%" ></th>
                </tr>
              </thead>
              <tbody id="nodes">
              </tbody>
            </table>
          </div>
        </div>
        <!--> container div is used when showing nodes as map <-->
        <div class="container">
          <div class="mapcontainer">
            <div class="map">
            </div>
          </div>
        </div>
      </div>


      <!--DIY box-->
      <div class="box">
        <h3>Randomness Retrieval and Verification</h3>
        To retrieve and verify the latest random value, install <a href="https://golang.org/doc/install">Golang</a> v1.12+, set your <a href="https://github.com/golang/go/wiki/SettingGOPATH">GOPATH</a>, and execute:<br><br>
        <pre>go get -u github.com/dedis/drand<br>cd $GOPATH/src/github.com/dedis/drand<br>go build<br>./drand get public deploy/latest/group.toml</pre>
      </div>

      <!--Partners box-->
      <div class="box">
        <h3>League of Entropy</h3>
        We are proud to be part of the League of Entropy, a consortium of organizations that are working together to provide randomness as a service. To learn more, check out <a href="https://blog.cloudflare.com/league-of-entropy/">this blog post</a> by Cloudflare.
        <hr>

        <h3>Partners</h3>
        The organizations below contribute to the <code>drand</code> beacon. If you want to participate in the network as well, please <a href="mailto:dedis@epfl.ch?subject=Joining the drand network">contact us</a>.
        <br>
        <br>

        <div class="row">
          <div class="col-2">
            <a href="https://dedis.epfl.ch" >
              <span class="image fit pic">
                <img src="{{ .Site.BaseURL }}img/epfl.png">
                <div class="text">DeDiS Lab</div>
              </span>
            </a>
          </div>
          <div class="col-2">
            <a href="https://www.cloudflare.com" >
              <span class="image fit pic">
                <img src="{{ .Site.BaseURL }}img/cf.png">
                <div class="text">Cloudflare</div>
              </span>
            </a>
          </div>
          <div class="col-2">
            <a href="https://www.kudelskisecurity.com" >
              <span class="image fit pic">
                <img src="{{ .Site.BaseURL }}img/ks.png">
                <div class="text">Kudelski Security</div>
              </span>
            </a>
          </div>
          <div class="col-2">
            <a href="http://www.uchile.cl/english" >
              <span class="image fit pic">
                <img src="{{ .Site.BaseURL }}img/uoc.png">
                <div class="text">University of Chile</div>
              </span>
            </a>
          </div>
          <div class="col-2">
            <a href="https://protocol.ai" >
              <span class="image fit pic">
                <img src="{{ .Site.BaseURL }}img/pl.png">
                <div class="text">Protocol Labs</div>
              </span>
            </a>
          </div>
        </div>
      </div>

    </section>

    <!-- Footer -->
    <footer id="footer">
      <ul class="icons">
        <li><a href="https://github.com/dedis/drand" class="icon" style="font-size:2em;"><i class="fab fa-github"></i><span class="label">Github</span></a></li>
        <li><a href="mailto:dedis@epfl.ch?subject=Drand" class="icon" style="font-size:2em;"><i class="far fa-envelope"></i><span class="label">Mail</span></a></li>
      </ul>
      <ul class="copyright">
        <li>&copy; <a href="https://dedis.epfl.ch/">DEDIS</a> - <a href="https://github.com/PizzaWhisperer">Mathilde Raynal</a>. All rights reserved.</li>
        <li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
      </ul>
    </footer>

  </div>

  <!-- Scripts for drandjs and display-->
  <script src="https://cdn.jsdelivr.net/gh/PizzaWhisperer/drandjs/dist/drand.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" charset="utf-8"></script>
  <script src="https://cdn.jsdelivr.net/npm/ip-geolocation-api-jquery-sdk@1.0.6/ipgeolocation.min.js"></script>
  <script src="{{ .Site.BaseURL }}js/display.js"></script>

  <script>
    window.identity = {Address: "drand.nikkolasg.xyz:8888", TLS: true};
    window.distkey = defaultDistKey;

    displayRandomness();
    var id = window.setInterval(displayRandomness, 60000);
  </script>

</body>
</html>
